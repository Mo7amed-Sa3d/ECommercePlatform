<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Stripe Test Payment</title>
  <script src="https://js.stripe.com/v3/"></script>
  <style>
    body { font-family: Arial; margin: 40px; }
    #card-element { padding: 10px; border: 1px solid #ccc; border-radius: 6px; }
    #pay-btn { margin-top: 20px; padding: 10px; background: black; color: white; border: none; cursor: pointer; }
  </style>
</head>
<body>

<h2>Stripe Payment Test</h2>

<div id="card-element"></div>
<button id="pay-btn">Pay Now</button>

<pre id="result"></pre>

<script>
  // Stripe public key
  const stripe = Stripe("pk_test_51SacfWAai52zVqlVm94dQRr1uFIWzl4O0dEOtN0jcyNbk8xqTsgl7PmV6wZiuUbEZbvItCN2bOVfUZwo3KrSKcna00eHfbv88W");   // ‚¨ÖÔ∏è Replace with your real STRIPE_PUBLISHABLE_KEY

  // Client secret of payment intent created on the server
  const clientSecret = "pi_3ScVkYAai52zVqlV29Jw4I2S_secret_yxSmfLDAWdrtjrOZIuapkTR3u";  // ‚¨ÖÔ∏è Replace dynamically in production

  const elements = stripe.elements();
  const cardElement = elements.create("card");
  cardElement.mount("#card-element");

  document.getElementById("pay-btn").addEventListener("click", async () => {
    const resultElement = document.getElementById("result");
    resultElement.textContent = "Processing payment...";

      // 4Ô∏è‚É£ CONFIRM THE PAYMENT
    const { paymentIntent, error } = await stripe.confirmCardPayment(clientSecret, {
      payment_method: {
        card: cardElement,
      }
    });

    // 5Ô∏è‚É£ SHOW RESULT
    if (error) {
      resultElement.textContent = "Payment Failed: " + error.message;
    } else if (paymentIntent.status === "succeeded") {
      resultElement.textContent = "Payment Successful! üéâ\nPaymentIntent ID: " + paymentIntent.id;
    } else {
      resultElement.textContent = "Status: " + paymentIntent.status;
    }
  });
</script>

</body>
</html>
